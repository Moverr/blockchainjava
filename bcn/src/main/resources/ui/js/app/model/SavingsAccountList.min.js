"use strict";var SavingsAccountList=function(){AbstractList.call(this);this.rootPath="/savingsaccount/v1d/";this.defaultPageSize=250;this.newGetMtd="/savingsaccount/v1d/allSavingsAccounts";this.entityName="savingsAccount";this.storagePrefix=this.entityName+"_"};SavingsAccountList.prototype=Object.create(AbstractList.prototype,{constructor:SavingsAccountList,sorter:{value:function(b,a){return b.accountId>a.accountId},enumerable:true},addTransactions:{value:function(b,c,e,d){if(exists(c.transactions)){c.transactionList=c.transactions;AbstractList.prototype.put.call(this,b,c,e,d)}else{var a=exists(c.transactionList)&&c.transactionList.length>0?c.transactionList[c.transactionList.length-1].transactionId:0;ajax(this.rootPath+c.accountId+"/transactions/"+a,"GET",function(f){(function(h,g){if(exists(g)){h.transactionList=g;AbstractList.prototype.put.call(this,b,h,e,d)}else{console.log("could not load transactions of savings account  "+h.accountId)}})(c,f)})}},enumerable:true},addLatestAccountProperties:{value:function(a,b,d,c){console.log("SavingsAccountHandler#addLatestAccountProperties : chck1");if(exists(b)){console.log("SavingsAccountHandler#addLatestAccountProperties : chck2");ajax(this.rootPath+b.accountId,"GET",function(e){(function(f){if(exists(f)){console.log("SavingsAccountHandler#addLatestAccountProperties : chck3");b=f;console.log("SavingsAccountHandler#addLatestAccountProperties : chck4");AbstractList.prototype.put.call(this,a,b,d,c);console.log("SavingsAccountHandler#addLatestAccountProperties : chck5")}else{console.log("could not get savings account  "+b.accountId)}})(e)})}},enumerable:true},addOwner:{value:function(a,b,d,c){if("INDIVIDUAL"===b.savingsAccountType){clientList.get(b.awamoId,function(e){(function(g,f){if(exists(f)){g.clientName=f.fullname;a.addTransactions(a,g,d,c)}})(b,e)})}else{if("GROUP"===b.savingsAccountType){groupList.get(b.awamoId,function(e){(function(f,g){if(exists(g)){f.clientName=g.name;a.addTransactions(a,f,d,c)}})(b,e)})}}},enumerable:true},put:{value:function(b,a,d,c){if(!exists(a)){a=b;b=this}this.addOwner(b,a,d,c)},enumerable:true},enrich:{value:function(a){a.mainId=a.accountId;return a},enumerable:true},clientFilter:{value:function(a){return function(b){return b.awamoId===a}},enumerable:true},accountIdFilter:{value:function(a){return function(b){return b.accountId===a}},enumerable:true},getByAccountId:{value:function(a){return this.entityArray.filter(this.accountIdFilter(a))},enumerable:true},getByClient:{value:function(a){return this.entityArray.filter(this.clientFilter(a))},enumerable:true},getListByStatus:{value:function(a){return this.getEntities().reduce(function(b,c){if(c.status===a){b.push(c)}return b},[])},enumerable:true},getCountByStatus:{value:function(a){return this.getEntities().reduce(function(b,c){if(c.status===a){b=b+1}return b},0)},enumerable:true}});